import{r,k as e,J as p,au as g}from"./index-AlbxRJrk.js";const j=({isOpen:l,onClose:n,onSave:m,validCompanies:u,validSections:b,initialScope:a,t,language:h})=>{const[o,i]=r.useState(""),[c,d]=r.useState("");if(r.useEffect(()=>{l&&(i(a?.scope_company_id||""),d(a?.scope_section_id||""))},[l,a]),!l)return null;const x=h==="ar";return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-6 w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx(p,{className:"w-5 h-5 text-blue-400"}),t.configureScope||"تخصيص النطاق"]}),e.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(g,{className:"w-5 h-5 text-gray-500 hover:text-white"})})]}),t.distributionNotice&&e.jsx("p",{className:"text-xs text-yellow-500/80 mb-4 bg-yellow-500/10 p-2 rounded border border-yellow-500/20",children:t.distributionNotice}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:t.companyLabel||"الشركة"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:o,onChange:s=>i(s.target.value),className:"w-full bg-gray-900 border border-gray-600 rounded-lg p-2.5 text-sm text-white focus:border-blue-500 outline-none appearance-none",children:[e.jsx("option",{value:"",children:t.scopeGlobal||"عام (الكل)"}),u.map(s=>e.jsx("option",{value:s.id,children:x?s.name_ar:s.name_en},s.id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center px-2 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:t.sectionLabel||"القسم"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:c,onChange:s=>d(s.target.value),className:"w-full bg-gray-900 border border-gray-600 rounded-lg p-2.5 text-sm text-white focus:border-blue-500 outline-none appearance-none",children:[e.jsx("option",{value:"",children:t.scopeGlobal||"عام (الكل)"}),b.map(s=>e.jsx("option",{value:s.id,children:x?s.name_ar:s.name_en},s.id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center px-2 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6 border-t border-gray-700 pt-4",children:[e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-sm font-medium px-3 py-2 transition-colors",children:t.cancel||"إلغاء"}),e.jsx("button",{onClick:()=>m({scope_company_id:o||null,scope_section_id:c||null}),className:"bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-blue-600 shadow-lg shadow-blue-500/20 transition-all active:scale-95",children:t.save||"حفظ"})]})]})})};export{j as S};
